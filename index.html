<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>ğŸ´ é©¬åˆ°æˆåŠŸ - 2026æˆè¯­å¡«å­—æŒ‘æˆ˜</title>
    
    <!-- å¾®ä¿¡åˆ†äº« Meta ä¿¡æ¯ -->
    <meta property="og:title" content="ğŸ´ 2026é©¬å¹´å¤§å‰ï¼æµ‹æµ‹ä½ çš„æˆè¯­å‚¨å¤‡é‡ï¼Œé©¬åˆ°æˆåŠŸï¼">
    <meta property="og:description" content="2026ä¸™åˆé©¬å¹´ç‰¹åˆ«ç‰ˆï¼Œæ¥ä½æ­£ç¡®çš„å­—ï¼Œç¥ä½ æ–°å¹´é©¬åˆ°æˆåŠŸï¼">
    <meta property="og:image" content="https://img.alicdn.com/tfs/TB1.c9ZwVY7gK0jSZKzXXbikpXa-200-200.png">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #8B0000 0%, #C41E3A 25%, #DC143C 50%, #C41E3A 75%, #8B0000 100%);
            font-family: 'Microsoft YaHei', 'KaiTi', 'STKaiti', serif;
            overflow: hidden;
            position: relative;
            touch-action: none;
        }

        .bg-decoration {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.1;
            background-image: radial-gradient(circle, #FFD700 1px, transparent 1px);
            background-size: 30px 30px;
        }

        .game-wrapper {
            position: relative;
            z-index: 10;
            width: 100%;
            max-width: 500px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }

        .header {
            text-align: center;
            margin-bottom: 10px;
            flex-shrink: 0;
        }

        .year-badge {
            display: inline-block;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #8B0000;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 5px;
            box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4);
            font-family: 'KaiTi', serif;
        }

        .main-title {
            font-size: 42px;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.6), 2px 2px 4px rgba(0,0,0,0.5);
            font-weight: bold;
            letter-spacing: 5px;
            margin: 5px 0;
            font-family: 'KaiTi', serif;
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 10px rgba(255, 215, 0, 0.6); }
            to { text-shadow: 0 0 20px rgba(255, 215, 0, 1), 0 0 30px rgba(255, 215, 0, 0.8); }
        }

        .info-bar {
            display: flex;
            justify-content: space-around;
            width: 100%;
            color: #FFD700;
            font-size: 16px;
            margin: 8px 0;
            font-family: 'KaiTi', serif;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            flex-shrink: 0;
        }

        .idiom-box {
            text-align: center;
            margin-bottom: 5px;
            flex-shrink: 0;
        }

        .idiom-text {
            color: #FFD700;
            font-size: 28px;
            font-weight: bold;
            letter-spacing: 3px;
            font-family: 'KaiTi', serif;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .hint-text {
            color: #FFA500;
            font-size: 14px;
            margin-top: 2px;
            font-family: 'KaiTi', serif;
        }

        .canvas-container {
            position: relative;
            width: 100%;
            height: 60vh; 
            max-height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        canvas {
            border: 3px solid #FFD700;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
            background: linear-gradient(135deg, #8B0000 0%, #C41E3A 100%);
            max-width: 100%;
            max-height: 100%;
            touch-action: none;
        }

        #startBtn {
            padding: 12px 40px;
            font-size: 20px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #8B0000;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 15px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.5);
            font-family: 'KaiTi', serif;
            transition: transform 0.2s;
            flex-shrink: 0;
        }

        #startBtn:active {
            transform: scale(0.95);
        }

        .ending-msg {
            color: #FFD700;
            font-size: 18px;
            margin-top: 10px;
            text-align: center;
            font-family: 'KaiTi', serif;
            animation: pulse 1.5s infinite;
            display: none;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        .share-guide {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 9999;
            display: none;
            flex-direction: column;
            align-items: flex-end;
            padding: 20px;
            cursor: pointer;
        }

        .share-arrow {
            width: 60px;
            height: 60px;
            margin-top: 20px;
            margin-right: 30px;
        }
        
        .share-arrow::after {
            content: 'â†—ï¸';
            font-size: 50px;
            display: block;
        }
        
        .share-text {
            color: white;
            font-size: 18px;
            margin-top: 10px;
            margin-right: 30px;
            font-family: sans-serif;
        }

        @media (max-height: 600px) {
            .main-title { font-size: 32px; }
            .idiom-text { font-size: 24px; }
            .canvas-container { height: 55vh; }
            .info-bar { font-size: 14px; }
        }
    </style>
</head>
<body>

    <div class="bg-decoration"></div>

    <!-- å¾®ä¿¡åˆ†äº«å¼•å¯¼å±‚ -->
    <div class="share-guide" id="shareGuide" onclick="closeShareGuide()">
        <div class="share-text">ç‚¹å‡»å³ä¸Šè§’ <span style="color:#FFD700; font-weight:bold;">...</span> åˆ†äº«ç»™æœ‹å‹</div>
        <div class="share-arrow"></div>
    </div>

    <div class="game-wrapper">
        <div class="header">
            <div class="year-badge">ğŸ´ 2026 ä¸™åˆé©¬å¹´ ğŸ´</div>
            <h1 class="main-title">é©¬åˆ°æˆåŠŸ</h1>
        </div>

        <div class="idiom-box">
            <div class="idiom-text" id="idiomDisplay">æˆè¯­åŠ è½½ä¸­...</div>
            <div class="hint-text" id="hintDisplay">ğŸ’¡ æç¤ºï¼šç­‰å¾…å¼€å§‹</div>
        </div>

        <div class="info-bar">
            <span>ğŸ§§ <span id="score">0</span></span>
            <span>â¤ï¸ <span id="lives">3</span></span>
            <span>ğŸ”¥ <span id="combo">0</span></span>
        </div>

        <div class="canvas-container">
            <canvas id="gameCanvas"></canvas>
        </div>

        <button id="startBtn" onclick="startGame()">ğŸŠ å¼€å§‹æ¸¸æˆ</button>
        
        <div class="ending-msg" id="endingMessage">
            ğŸ‰ ç¥æ‚¨æ–°æ˜¥æ„‰å¿«ï¼é©¬å¹´å¤§å‰ï¼ ğŸ‰<br>
            <span style="font-size:14px; color:#FFA500; margin-top:5px; display:block;" onclick="showShareGuide()">â†—ï¸ åˆ†äº«ç»™å¥½å‹æŒ‘æˆ˜</span>
        </div>
        
        <div style="margin-top:10px; color:rgba(255,255,255,0.6); font-size:12px;">
            å·¦å³æ»‘åŠ¨å±å¹•æ§åˆ¶æŒ¡æ¿
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('score');
        const livesEl = document.getElementById('lives');
        const comboEl = document.getElementById('combo');
        const idiomDisplay = document.getElementById('idiomDisplay');
        const hintDisplay = document.getElementById('hintDisplay');
        const startBtn = document.getElementById('startBtn');
        const endingMessage = document.getElementById('endingMessage');
        const shareGuide = document.getElementById('shareGuide');

        // é€‚é…å±å¹•å°ºå¯¸
        function resizeCanvas() {
            const container = document.querySelector('.canvas-container');
            const rect = container.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
            
            if(!gameRunning && !isGameOver) {
                paddle.x = canvas.width / 2 - paddle.width / 2;
                paddle.y = canvas.height - 50;
            }
        }
        
        window.addEventListener('resize', resizeCanvas);
        setTimeout(resizeCanvas, 100);

        // ğŸ´ é©¬å¹´æˆè¯­åº“
        const idiomBank = [
            { idiom: "é©¬åˆ°æˆåŠŸ", missing: "åˆ°", hint: "äº‹æƒ…ä¸€å¼€å§‹å°±é¡ºåˆ©æˆåŠŸ" },
            { idiom: "é©¬åˆ°æˆåŠŸ", missing: "æˆ", hint: "äº‹æƒ…ä¸€å¼€å§‹å°±é¡ºåˆ©æˆåŠŸ" },
            { idiom: "é©¬åˆ°æˆåŠŸ", missing: "åŠŸ", hint: "äº‹æƒ…ä¸€å¼€å§‹å°±é¡ºåˆ©æˆåŠŸ" },
            { idiom: "ä¸€é©¬å½“å…ˆ", missing: "é©¬", hint: "å½¢å®¹é¢†å…ˆï¼Œèµ°åœ¨æœ€å‰é¢" },
            { idiom: "ä¸€é©¬å½“å…ˆ", missing: "å½“", hint: "å½¢å®¹é¢†å…ˆï¼Œèµ°åœ¨æœ€å‰é¢" },
            { idiom: "ä¸€é©¬å½“å…ˆ", missing: "å…ˆ", hint: "å½¢å®¹é¢†å…ˆï¼Œèµ°åœ¨æœ€å‰é¢" },
            { idiom: "ä¸‡é©¬å¥”è…¾", missing: "é©¬", hint: "å½¢å®¹å£°åŠ¿æµ©å¤§ï¼Œåœºé¢å£®è§‚" },
            { idiom: "ä¸‡é©¬å¥”è…¾", missing: "å¥”", hint: "å½¢å®¹å£°åŠ¿æµ©å¤§ï¼Œåœºé¢å£®è§‚" },
            { idiom: "ä¸‡é©¬å¥”è…¾", missing: "è…¾", hint: "å½¢å®¹å£°åŠ¿æµ©å¤§ï¼Œåœºé¢å£®è§‚" },
            { idiom: "é¾™é©¬ç²¾ç¥", missing: "é©¬", hint: "å½¢å®¹ç²¾ç¥é¥±æ»¡ï¼Œå……æ»¡æ´»åŠ›" },
            { idiom: "é¾™é©¬ç²¾ç¥", missing: "ç²¾", hint: "å½¢å®¹ç²¾ç¥é¥±æ»¡ï¼Œå……æ»¡æ´»åŠ›" },
            { idiom: "é¾™é©¬ç²¾ç¥", missing: "ç¥", hint: "å½¢å®¹ç²¾ç¥é¥±æ»¡ï¼Œå……æ»¡æ´»åŠ›" },
            { idiom: "å¿«é©¬åŠ é­", missing: "é©¬", hint: "æ¯”å–»å¿«ä¸ŠåŠ å¿«ï¼Œå†æ¥å†å‰" },
            { idiom: "å¿«é©¬åŠ é­", missing: "åŠ ", hint: "æ¯”å–»å¿«ä¸ŠåŠ å¿«ï¼Œå†æ¥å†å‰" },
            { idiom: "å¿«é©¬åŠ é­", missing: "é­", hint: "æ¯”å–»å¿«ä¸ŠåŠ å¿«ï¼Œå†æ¥å†å‰" },
            { idiom: "æ±—é©¬åŠŸåŠ³", missing: "é©¬", hint: "æŒ‡å“è¶Šçš„åŠŸç»©" },
            { idiom: "æ±—é©¬åŠŸåŠ³", missing: "åŠŸ", hint: "æŒ‡å“è¶Šçš„åŠŸç»©" },
            { idiom: "æ±—é©¬åŠŸåŠ³", missing: "åŠ³", hint: "æŒ‡å“è¶Šçš„åŠŸç»©" },
            { idiom: "è€é©¬è¯†é€”", missing: "é©¬", hint: "æ¯”å–»æœ‰ç»éªŒçš„äººç†Ÿæ‚‰æƒ…å†µ" },
            { idiom: "è€é©¬è¯†é€”", missing: "è¯†", hint: "æ¯”å–»æœ‰ç»éªŒçš„äººç†Ÿæ‚‰æƒ…å†µ" },
            { idiom: "è€é©¬è¯†é€”", missing: "é€”", hint: "æ¯”å–»æœ‰ç»éªŒçš„äººç†Ÿæ‚‰æƒ…å†µ" },
            { idiom: "èµ°é©¬è§‚èŠ±", missing: "é©¬", hint: "æ¯”å–»ç²—ç•¥åœ°è§‚å¯Ÿäº‹ç‰©" },
            { idiom: "èµ°é©¬è§‚èŠ±", missing: "è§‚", hint: "æ¯”å–»ç²—ç•¥åœ°è§‚å¯Ÿäº‹ç‰©" },
            { idiom: "èµ°é©¬è§‚èŠ±", missing: "èŠ±", hint: "æ¯”å–»ç²—ç•¥åœ°è§‚å¯Ÿäº‹ç‰©" },
            { idiom: "é’æ¢…ç«¹é©¬", missing: "æ¢…", hint: "å½¢å®¹ç”·å¥³å°æ—¶å€™å¤©çœŸæ— é‚ª" },
            { idiom: "é’æ¢…ç«¹é©¬", missing: "ç«¹", hint: "å½¢å®¹ç”·å¥³å°æ—¶å€™å¤©çœŸæ— é‚ª" },
            { idiom: "é’æ¢…ç«¹é©¬", missing: "é©¬", hint: "å½¢å®¹ç”·å¥³å°æ—¶å€™å¤©çœŸæ— é‚ª" },
            { idiom: "é©¬ä¸åœè¹„", missing: "ä¸", hint: "æ¯”å–»ä¸€åˆ»ä¹Ÿä¸åœç•™" },
            { idiom: "é©¬ä¸åœè¹„", missing: "åœ", hint: "æ¯”å–»ä¸€åˆ»ä¹Ÿä¸åœç•™" },
            { idiom: "é©¬ä¸åœè¹„", missing: "è¹„", hint: "æ¯”å–»ä¸€åˆ»ä¹Ÿä¸åœç•™" },
            { idiom: "å¤©é©¬è¡Œç©º", missing: "é©¬", hint: "æ¯”å–»æ€æƒ³å¥”æ”¾ï¼Œä¸å—æ‹˜æŸ" },
            { idiom: "å¤©é©¬è¡Œç©º", missing: "è¡Œ", hint: "æ¯”å–»æ€æƒ³å¥”æ”¾ï¼Œä¸å—æ‹˜æŸ" },
            { idiom: "å¤©é©¬è¡Œç©º", missing: "ç©º", hint: "æ¯”å–»æ€æƒ³å¥”æ”¾ï¼Œä¸å—æ‹˜æŸ" },
            { idiom: "è½¦æ°´é©¬é¾™", missing: "æ°´", hint: "å½¢å®¹è½¦é©¬å¾€æ¥ï¼Œéå¸¸çƒ­é—¹" },
            { idiom: "è½¦æ°´é©¬é¾™", missing: "é©¬", hint: "å½¢å®¹è½¦é©¬å¾€æ¥ï¼Œéå¸¸çƒ­é—¹" },
            { idiom: "è½¦æ°´é©¬é¾™", missing: "é¾™", hint: "å½¢å®¹è½¦é©¬å¾€æ¥ï¼Œéå¸¸çƒ­é—¹" },
            { idiom: "æ‚¬å´–å‹’é©¬", missing: "å´–", hint: "æ¯”å–»åˆ°äº†å±é™©è¾¹ç¼˜åŠæ—¶å›å¤´" },
            { idiom: "æ‚¬å´–å‹’é©¬", missing: "å‹’", hint: "æ¯”å–»åˆ°äº†å±é™©è¾¹ç¼˜åŠæ—¶å›å¤´" },
            { idiom: "æ‚¬å´–å‹’é©¬", missing: "é©¬", hint: "æ¯”å–»åˆ°äº†å±é™©è¾¹ç¼˜åŠæ—¶å›å¤´" },
            { idiom: "åƒå†›ä¸‡é©¬", missing: "å†›", hint: "å½¢å®¹å…µé©¬ä¼—å¤šï¼Œå£°åŠ¿æµ©å¤§" },
            { idiom: "åƒå†›ä¸‡é©¬", missing: "é©¬", hint: "å½¢å®¹å…µé©¬ä¼—å¤šï¼Œå£°åŠ¿æµ©å¤§" },
            { idiom: "å•æªåŒ¹é©¬", missing: "æª", hint: "æ¯”å–»å•ç‹¬è¡ŒåŠ¨ï¼Œæ— äººå¸®åŠ©" },
            { idiom: "å•æªåŒ¹é©¬", missing: "é©¬", hint: "æ¯”å–»å•ç‹¬è¡ŒåŠ¨ï¼Œæ— äººå¸®åŠ©" },
            { idiom: "é‡‘æˆˆé“é©¬", missing: "æˆˆ", hint: "å½¢å®¹æˆ˜äº‰æˆ–æˆ˜å£«çš„è‹±å§¿" },
            { idiom: "é‡‘æˆˆé“é©¬", missing: "é“", hint: "å½¢å®¹æˆ˜äº‰æˆ–æˆ˜å£«çš„è‹±å§¿" },
            { idiom: "é‡‘æˆˆé“é©¬", missing: "é©¬", hint: "å½¢å®¹æˆ˜äº‰æˆ–æˆ˜å£«çš„è‹±å§¿" },
            { idiom: "äººä»°é©¬ç¿»", missing: "ä»°", hint: "å½¢å®¹æ··ä¹±æˆ–å¿™ä¹±ä¸å ª" },
            { idiom: "äººä»°é©¬ç¿»", missing: "é©¬", hint: "å½¢å®¹æ··ä¹±æˆ–å¿™ä¹±ä¸å ª" },
            { idiom: "äººä»°é©¬ç¿»", missing: "ç¿»", hint: "å½¢å®¹æ··ä¹±æˆ–å¿™ä¹±ä¸å ª" },
            { idiom: "å¿ƒçŒ¿æ„é©¬", missing: "çŒ¿", hint: "å½¢å®¹å¿ƒæ€ä¸ä¸“ï¼Œå˜åŒ–æ— å¸¸" },
            { idiom: "å¿ƒçŒ¿æ„é©¬", missing: "é©¬", hint: "å½¢å®¹å¿ƒæ€ä¸ä¸“ï¼Œå˜åŒ–æ— å¸¸" },
            { idiom: "å®³ç¾¤ä¹‹é©¬", missing: "ç¾¤", hint: "æ¯”å–»å±å®³é›†ä½“çš„äºº" },
            { idiom: "å®³ç¾¤ä¹‹é©¬", missing: "é©¬", hint: "æ¯”å–»å±å®³é›†ä½“çš„äºº" },
            { idiom: "é©¬é¦–æ˜¯ç»", missing: "é¦–", hint: "æ¯”å–»æœä»æŒ‡æŒ¥æˆ–è¿½éšåˆ«äºº" },
            { idiom: "é©¬é¦–æ˜¯ç»", missing: "é©¬", hint: "æ¯”å–»æœä»æŒ‡æŒ¥æˆ–è¿½éšåˆ«äºº" },
            { idiom: "é©¬é¦–æ˜¯ç»", missing: "ç»", hint: "æ¯”å–»æœä»æŒ‡æŒ¥æˆ–è¿½éšåˆ«äºº" },
            { idiom: "é©¬é©è£¹å°¸", missing: "é©", hint: "å½¢å®¹å°†å£«æˆ˜æ­»æ²™åœºçš„è‹±å‹‡" },
            { idiom: "é©¬é©è£¹å°¸", missing: "é©¬", hint: "å½¢å®¹å°†å£«æˆ˜æ­»æ²™åœºçš„è‹±å‹‡" },
            { idiom: "é©¬æ”¾å—å±±", missing: "æ”¾", hint: "æ¯”å–»å¤©ä¸‹å¤ªå¹³ï¼Œä¸å†ç”¨å…µ" },
            { idiom: "é©¬æ”¾å—å±±", missing: "é©¬", hint: "æ¯”å–»å¤©ä¸‹å¤ªå¹³ï¼Œä¸å†ç”¨å…µ" },
            { idiom: "é©¬æ”¾å—å±±", missing: "å±±", hint: "æ¯”å–»å¤©ä¸‹å¤ªå¹³ï¼Œä¸å†ç”¨å…µ" },
            { idiom: "éœ²é©¬è„š", missing: "é©¬", hint: "æ¯”å–»æš´éœ²äº†éšè”½çš„äº‹å®çœŸç›¸" },
            { idiom: "éœ²é©¬è„š", missing: "è„š", hint: "æ¯”å–»æš´éœ²äº†éšè”½çš„äº‹å®çœŸç›¸" },
            { idiom: "ä¸‹é©¬å¨", missing: "é©¬", hint: "ä¸€å¼€å§‹å°±å‘å¯¹æ–¹æ˜¾ç¤ºå¨åŠ›" },
            { idiom: "ä¸‹é©¬å¨", missing: "å¨", hint: "ä¸€å¼€å§‹å°±å‘å¯¹æ–¹æ˜¾ç¤ºå¨åŠ›" },
            { idiom: "èµ°é©¬ä¸Šä»»", missing: "é©¬", hint: "æŒ‡å®˜åå°±èŒ" },
            { idiom: "èµ°é©¬ä¸Šä»»", missing: "ä»»", hint: "æŒ‡å®˜åå°±èŒ" },
            { idiom: "è·ƒé©¬æ‰¬é­", missing: "é©¬", hint: "å½¢å®¹æ„æ°”é£å‘ï¼Œå¥‹å‹‡å‰è¿›" },
            { idiom: "è·ƒé©¬æ‰¬é­", missing: "æ‰¬", hint: "å½¢å®¹æ„æ°”é£å‘ï¼Œå¥‹å‹‡å‰è¿›" },
            { idiom: "è·ƒé©¬æ‰¬é­", missing: "é­", hint: "å½¢å®¹æ„æ°”é£å‘ï¼Œå¥‹å‹‡å‰è¿›" },
            { idiom: "ä¿¡é©¬ç”±ç¼°", missing: "é©¬", hint: "æ¯”å–»æ¼«æ— ç›®çš„åœ°é—²é€›æˆ–éšæ„è¡ŒåŠ¨" },
            { idiom: "ä¿¡é©¬ç”±ç¼°", missing: "ç¼°", hint: "æ¯”å–»æ¼«æ— ç›®çš„åœ°é—²é€›æˆ–éšæ„è¡ŒåŠ¨" },
            { idiom: "éé©¬åŠ³é¡¿", missing: "é©¬", hint: "å½¢å®¹æ—…é€”æˆ–å¾æˆ˜åŠ³è‹¦" },
            { idiom: "éé©¬åŠ³é¡¿", missing: "åŠ³", hint: "å½¢å®¹æ—…é€”æˆ–å¾æˆ˜åŠ³è‹¦" },
            { idiom: "é²œè¡£æ€’é©¬", missing: "è¡£", hint: "å½¢å®¹ç”Ÿæ´»è±ªåï¼Œæ„æ°”é£å‘" },
            { idiom: "é²œè¡£æ€’é©¬", missing: "é©¬", hint: "å½¢å®¹ç”Ÿæ´»è±ªåï¼Œæ„æ°”é£å‘" },
            { idiom: "é¦™è½¦å®é©¬", missing: "è½¦", hint: "å½¢å®¹å¯Œè´µäººå®¶è±ªåçš„ç”Ÿæ´»" },
            { idiom: "é¦™è½¦å®é©¬", missing: "é©¬", hint: "å½¢å®¹å¯Œè´µäººå®¶è±ªåçš„ç”Ÿæ´»" },
            { idiom: "äººå¼ºé©¬å£®", missing: "å¼º", hint: "å½¢å®¹å†›é˜Ÿæˆ–å›¢é˜Ÿå®åŠ›å¼ºå¤§" },
            { idiom: "äººå¼ºé©¬å£®", missing: "é©¬", hint: "å½¢å®¹å†›é˜Ÿæˆ–å›¢é˜Ÿå®åŠ›å¼ºå¤§" },
            { idiom: "é©¬è¸é£ç‡•", missing: "è¸", hint: "å½¢å®¹é€Ÿåº¦æå¿«ï¼Œå§¿æ€çŸ«å¥" },
            { idiom: "é©¬è¸é£ç‡•", missing: "é©¬", hint: "å½¢å®¹é€Ÿåº¦æå¿«ï¼Œå§¿æ€çŸ«å¥" },
            { idiom: "ç«‹é©¬å½“å…ˆ", missing: "é©¬", hint: "å½¢å®¹ç«‹å³è¡ŒåŠ¨ï¼Œèµ°åœ¨å‰é¢" },
            { idiom: "ç«‹é©¬å½“å…ˆ", missing: "å½“", hint: "å½¢å®¹ç«‹å³è¡ŒåŠ¨ï¼Œèµ°åœ¨å‰é¢" },
            { idiom: "ä¸‡é©¬é½å–‘", missing: "é©¬", hint: "æ¯”å–»äººä»¬éƒ½æ²‰é»˜ï¼Œä¸æ•¢è¯´è¯" },
            { idiom: "ä¸‡é©¬é½å–‘", missing: "å–‘", hint: "æ¯”å–»äººä»¬éƒ½æ²‰é»˜ï¼Œä¸æ•¢è¯´è¯" },
            { idiom: "æŒ‡é¹¿ä¸ºé©¬", missing: "é¹¿", hint: "æ¯”å–»æ•…æ„é¢ å€’é»‘ç™½ï¼Œæ··æ·†æ˜¯é" },
            { idiom: "æŒ‡é¹¿ä¸ºé©¬", missing: "é©¬", hint: "æ¯”å–»æ•…æ„é¢ å€’é»‘ç™½ï¼Œæ··æ·†æ˜¯é" },
            { idiom: "éé©´éé©¬", missing: "é©´", hint: "æ¯”å–»ä¸ä¼¦ä¸ç±»ï¼Œä»€ä¹ˆä¹Ÿä¸åƒ" },
            { idiom: "éé©´éé©¬", missing: "é©¬", hint: "æ¯”å–»ä¸ä¼¦ä¸ç±»ï¼Œä»€ä¹ˆä¹Ÿä¸åƒ" }
        ];

        let gameRunning = false;
        let isGameOver = false;
        let score = 0;
        let lives = 3;
        let combo = 0;
        let currentIdiom = null;
        let correctChar = '';

        const paddle = {
            width: 100,
            height: 15,
            x: 0, 
            y: 0,
            speed: 0
        };

        let items = [];
        const commonChars = "å¤©åœ°äººå¤§å°ä¸Šä¸‹å·¦å³ä¸œè¥¿å—åŒ—ä¸­é‡‘æœ¨æ°´ç«åœŸæ—¥æœˆé£äº‘é›¨é›ªå±±å·ç¦ç¦„å¯¿å–œå‰ç¥¥å®‰åº·";

        // è§¦æ‘¸æ§åˆ¶
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
        }, { passive: false });

        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            if (!gameRunning) return;
            
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            const touchXInCanvas = (touch.clientX - rect.left) / rect.width * canvas.width;
            
            let newX = touchXInCanvas - paddle.width / 2;
            if (newX < 0) newX = 0;
            if (newX > canvas.width - paddle.width) newX = canvas.width - paddle.width;
            
            paddle.x = newX;
        }, { passive: false });

        // é¼ æ ‡å…¼å®¹
        canvas.addEventListener('mousemove', (e) => {
            if (!gameRunning) return;
            const rect = canvas.getBoundingClientRect();
            const mouseX = (e.clientX - rect.left) / rect.width * canvas.width;
            let newX = mouseX - paddle.width / 2;
            if (newX < 0) newX = 0;
            if (newX > canvas.width - paddle.width) newX = canvas.width - paddle.width;
            paddle.x = newX;
        });

        function selectNewIdiom() {
            const randomIndex = Math.floor(Math.random() * idiomBank.length);
            currentIdiom = idiomBank[randomIndex];
            correctChar = currentIdiom.missing;
            const displayIdiom = currentIdiom.idiom.replace(correctChar, 'â–¢');
            idiomDisplay.textContent = displayIdiom;
            hintDisplay.textContent = `ğŸ’¡ æç¤ºï¼š${currentIdiom.hint}`;
        }

        function createItem() {
            const isCorrect = Math.random() < 0.5;
            let char;
            if (isCorrect && currentIdiom) {
                char = correctChar;
            } else {
                do {
                    char = commonChars[Math.floor(Math.random() * commonChars.length)];
                } while (char === correctChar);
            }
            
            const baseSize = canvas.width * 0.08; 
            items.push({
                x: Math.random() * (canvas.width - baseSize),
                y: -baseSize,
                size: baseSize,
                speed: (canvas.height * 0.008) + (Math.random() * canvas.height * 0.005),
                char: char,
                isCorrect: isCorrect && char === correctChar
            });
        }

        function update() {
            if (!gameRunning) return;

            paddle.width = canvas.width * 0.25;
            paddle.y = canvas.height - 50;
            if (paddle.x > canvas.width - paddle.width) paddle.x = canvas.width - paddle.width;

            items.forEach((item, index) => {
                item.y += item.speed;

                if (
                    item.y + item.size >= paddle.y &&
                    item.y <= paddle.y + paddle.height &&
                    item.x + item.size >= paddle.x &&
                    item.x <= paddle.x + paddle.width
                ) {
                    if (item.isCorrect) {
                        score += 20 + combo * 5;
                        combo++;
                        scoreEl.textContent = score;
                        comboEl.textContent = combo;
                        showFeedback('âœ“', item.x, item.y, '#FFD700');
                        selectNewIdiom();
                    } else {
                        lives -= 1;
                        combo = 0;
                        livesEl.textContent = lives;
                        comboEl.textContent = combo;
                        showFeedback('âœ—', item.x, item.y, '#FF6B6B');
                        if (lives <= 0) gameOver();
                    }
                    items.splice(index, 1);
                } else if (item.y > canvas.height) {
                    items.splice(index, 1);
                }
            });

            if (Math.random() < 0.03) createItem();
        }

        let feedbacks = [];
        function showFeedback(text, x, y, color) {
            feedbacks.push({ text, x, y, color, alpha: 1, life: 30 });
        }

        function draw() {
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#8B0000');
            gradient.addColorStop(1, '#C41E3A');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.strokeStyle = 'rgba(255, 215, 0, 0.1)';
            ctx.lineWidth = 1;
            for (let i = 0; i < canvas.width; i += 40) {
                ctx.beginPath(); ctx.moveTo(i, 0); ctx.lineTo(i, canvas.height); ctx.stroke();
            }
            for (let i = 0; i < canvas.height; i += 40) {
                ctx.beginPath(); ctx.moveTo(0, i); ctx.lineTo(canvas.width, i); ctx.stroke();
            }

            const pGrad = ctx.createLinearGradient(paddle.x, paddle.y, paddle.x + paddle.width, paddle.y);
            pGrad.addColorStop(0, '#FFD700');
            pGrad.addColorStop(0.5, '#FFA500');
            pGrad.addColorStop(1, '#FFD700');
            ctx.fillStyle = pGrad;
            ctx.shadowColor = '#FFD700';
            ctx.shadowBlur = 15;
            ctx.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);
            ctx.shadowBlur = 0;

            ctx.fillStyle = '#8B0000';
            ctx.font = `bold ${canvas.width * 0.04}px KaiTi`;
            ctx.textAlign = 'center';
            ctx.fillText('ğŸ´ é©¬åˆ°æˆåŠŸ ğŸ´', paddle.x + paddle.width/2, paddle.y + 12);

            items.forEach(item => {
                ctx.font = `bold ${item.size}px Microsoft YaHei`;
                ctx.fillStyle = '#FFFFFF';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(item.char, item.x + item.size/2, item.y + item.size/2);
                ctx.strokeStyle = 'rgba(255, 215, 0, 0.5)';
                ctx.lineWidth = 1;
                ctx.strokeText(item.char, item.x + item.size/2, item.y + item.size/2);
            });

            feedbacks.forEach((fb, i) => {
                ctx.globalAlpha = fb.alpha;
                ctx.font = `bold ${canvas.width * 0.1}px Arial`;
                ctx.fillStyle = fb.color;
                ctx.fillText(fb.text, fb.x, fb.y);
                ctx.globalAlpha = 1;
                fb.alpha -= 0.05;
                fb.y -= 2;
                fb.life--;
                if (fb.life <= 0) feedbacks.splice(i, 1);
            });

            if (!gameRunning && isGameOver) {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.85)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#FFD700';
                ctx.font = `bold ${canvas.width * 0.08}px KaiTi`;
                ctx.textAlign = 'center';
                ctx.fillText('æ¸¸æˆç»“æŸ', canvas.width/2, canvas.height/2 - 20);
                ctx.font = `${canvas.width * 0.05}px KaiTi`;
                ctx.fillText(`å¾—åˆ†ï¼š${score}`, canvas.width/2, canvas.height/2 + 20);
                ctx.fillText(`è¿å¯¹ï¼š${combo}`, canvas.width/2, canvas.height/2 + 50);
            }
        }

        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        function startGame() {
            resizeCanvas();
            gameRunning = true;
            isGameOver = false;
            score = 0;
            lives = 3;
            combo = 0;
            items = [];
            feedbacks = [];
            paddle.x = canvas.width / 2 - paddle.width / 2;
            scoreEl.textContent = score;
            livesEl.textContent = lives;
            comboEl.textContent = combo;
            startBtn.style.display = 'none';
            endingMessage.style.display = 'none';
            selectNewIdiom();
        }

        function gameOver() {
            gameRunning = false;
            isGameOver = true;
            startBtn.style.display = 'inline-block';
            startBtn.textContent = 'ğŸ”„ å†ç©ä¸€æ¬¡';
            idiomDisplay.textContent = 'æ¸¸æˆç»“æŸ';
            hintDisplay.textContent = '';
            endingMessage.style.display = 'block';
        }

        function showShareGuide() {
            shareGuide.style.display = 'flex';
        }
        function closeShareGuide() {
            shareGuide.style.display = 'none';
        }

        resizeCanvas();
        gameLoop();
    </script>
</body>
</html>